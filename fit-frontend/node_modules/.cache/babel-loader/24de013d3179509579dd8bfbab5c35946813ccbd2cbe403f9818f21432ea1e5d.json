{"ast":null,"code":"import _objectSpread from\"C:/Users/Gowtham/OneDrive/Desktop/FITNESS WORK/fitness-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();const[form,setForm]=useState({role:\"user\",name:\"\",email:\"\",password:\"\",age:\"\",gender:\"\",height:\"\",weight:\"\",specialization:\"\"});const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{// ✅ Send form data to backend\nconst res=await axios.post(\"http://localhost:8080/api/users\",form);alert(\"Registered successfully! Please login.\");navigate(\"/\");// back to login\n}catch(err){if(err.response){// If backend sends a string → show it directly\n// If backend sends an object → show its \"message\" field\nconst message=typeof err.response.data===\"string\"?err.response.data:err.response.data.message||\"Registration failed\";alert(\"Registration failed: \".concat(message));}else{alert(\"Server error, please try again later.\");}}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{maxWidth:520,margin:\"20px auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",value:form.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"trainer\",children:\"Trainer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:form.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:form.password,onChange:handleChange,required:true}),form.role===\"user\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:form.age,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:form.gender,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Height (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"height\",value:form.height,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Weight (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight,onChange:handleChange})]}):form.role===\"trainer\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Specialization\"}),/*#__PURE__*/_jsx(\"input\",{name:\"specialization\",value:form.specialization,onChange:handleChange,placeholder:\"e.g., Weight Loss\"})]}):null,/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","navigate","form","setForm","role","name","email","password","age","gender","height","weight","specialization","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","res","post","alert","err","response","message","data","concat","className","children","style","maxWidth","margin","onSubmit","onChange","required","type","placeholder","marginTop"],"sources":["C:/Users/Gowtham/OneDrive/Desktop/FITNESS WORK/fitness-app/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    role: \"user\",\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    specialization: \"\",\r\n  });\r\n\r\n  const handleChange = (e) =>\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      // ✅ Send form data to backend\r\n      const res = await axios.post(\"http://localhost:8080/api/users\", form);\r\n\r\n      alert(\"Registered successfully! Please login.\");\r\n      navigate(\"/\"); // back to login\r\n    } catch (err) {\r\n  if (err.response) {\r\n    // If backend sends a string → show it directly\r\n    // If backend sends an object → show its \"message\" field\r\n    const message = typeof err.response.data === \"string\"\r\n      ? err.response.data\r\n      : err.response.data.message || \"Registration failed\";\r\n    alert(`Registration failed: ${message}`);\r\n  } else {\r\n    alert(\"Server error, please try again later.\");\r\n  }\r\n}\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"card\" style={{ maxWidth: 520, margin: \"20px auto\" }}>\r\n        <h2>Register</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <label>Role</label>\r\n          <select name=\"role\" value={form.role} onChange={handleChange}>\r\n            <option value=\"user\">User</option>\r\n            <option value=\"trainer\">Trainer</option>\r\n            <option value=\"admin\">Admin</option>\r\n          </select>\r\n\r\n          <label>Name</label>\r\n          <input name=\"name\" value={form.name} onChange={handleChange} required />\r\n\r\n          <label>Email</label>\r\n          <input type=\"email\" name=\"email\" value={form.email} onChange={handleChange} required />\r\n\r\n          <label>Password</label>\r\n          <input type=\"password\" name=\"password\" value={form.password} onChange={handleChange} required />\r\n\r\n          {form.role === \"user\" ? (\r\n            <>\r\n              <label>Age</label>\r\n              <input type=\"number\" name=\"age\" value={form.age} onChange={handleChange} />\r\n              <label>Gender</label>\r\n              <select name=\"gender\" value={form.gender} onChange={handleChange}>\r\n                <option value=\"\">Select</option>\r\n                <option value=\"female\">Female</option>\r\n                <option value=\"male\">Male</option>\r\n              </select>\r\n              <label>Height (cm)</label>\r\n              <input type=\"number\" name=\"height\" value={form.height} onChange={handleChange} />\r\n              <label>Weight (kg)</label>\r\n              <input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} />\r\n            </>\r\n          ) : form.role === \"trainer\" ? (\r\n            <>\r\n              <label>Specialization</label>\r\n              <input\r\n                name=\"specialization\"\r\n                value={form.specialization}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., Weight Loss\"\r\n              />\r\n            </>\r\n          ) : null}\r\n\r\n          <div style={{ marginTop: 12 }}>\r\n            <button type=\"submit\">Register</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}