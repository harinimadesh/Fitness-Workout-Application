{"ast":null,"code":"import _objectSpread from\"C:/Users/Gowtham/OneDrive/Desktop/fit-frontend/fitness-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){const navigate=useNavigate();const[form,setForm]=useState({role:\"user\",name:\"\",email:\"\",password:\"\",age:\"\",gender:\"\",height:\"\",weight:\"\",specialization:\"\"});const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSubmit=async e=>{e.preventDefault();try{const response=await fetch(\"http://localhost:8080/api/auth/register\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_objectSpread(_objectSpread({},form),{},{age:form.age?parseInt(form.age):null,height:form.height?parseInt(form.height):null,weight:form.weight?parseInt(form.weight):null}))});const data=await response.json();if(!response.ok){alert(data.message||\"Registration failed\");return;}alert(\"Registered successfully! Please login.\");navigate(\"/\");}catch(err){console.error(\"Registration error:\",err);alert(\"Registration failed: \"+err.message);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{maxWidth:520,margin:\"20px auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Role\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"role\",value:form.role,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"user\",children:\"User\"}),/*#__PURE__*/_jsx(\"option\",{value:\"trainer\",children:\"Trainer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:form.email,onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:form.password,onChange:handleChange,required:true}),form.role===\"user\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:form.age,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:form.gender,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Height (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"height\",value:form.height,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{children:\"Weight (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight,onChange:handleChange})]}):form.role===\"trainer\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Specialization\"}),/*#__PURE__*/_jsx(\"input\",{name:\"specialization\",value:form.specialization,onChange:handleChange,placeholder:\"e.g., Weight Loss\"})]}):null,/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})})]})]})});}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Register","navigate","form","setForm","role","name","email","password","age","gender","height","weight","specialization","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","response","fetch","method","headers","body","JSON","stringify","parseInt","data","json","ok","alert","message","err","console","error","className","children","style","maxWidth","margin","onSubmit","onChange","required","type","placeholder","marginTop"],"sources":["C:/Users/Gowtham/OneDrive/Desktop/fit-frontend/fitness-app/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Register() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({\r\n    role: \"user\",\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    specialization: \"\",\r\n  });\r\n\r\n  const handleChange = (e) =>\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(\"http://localhost:8080/api/auth/register\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          ...form,\r\n          age: form.age ? parseInt(form.age) : null,\r\n          height: form.height ? parseInt(form.height) : null,\r\n          weight: form.weight ? parseInt(form.weight) : null,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!response.ok) {\r\n        alert(data.message || \"Registration failed\");\r\n        return;\r\n      }\r\n\r\n      alert(\"Registered successfully! Please login.\");\r\n      navigate(\"/\");\r\n    } catch (err) {\r\n      console.error(\"Registration error:\", err);\r\n      alert(\"Registration failed: \" + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"card\" style={{ maxWidth: 520, margin: \"20px auto\" }}>\r\n        <h2>Register</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <label>Role</label>\r\n          <select name=\"role\" value={form.role} onChange={handleChange}>\r\n            <option value=\"user\">User</option>\r\n            <option value=\"trainer\">Trainer</option>\r\n            <option value=\"admin\">Admin</option>\r\n          </select>\r\n\r\n          <label>Name</label>\r\n          <input name=\"name\" value={form.name} onChange={handleChange} required />\r\n\r\n          <label>Email</label>\r\n          <input type=\"email\" name=\"email\" value={form.email} onChange={handleChange} required />\r\n\r\n          <label>Password</label>\r\n          <input type=\"password\" name=\"password\" value={form.password} onChange={handleChange} required />\r\n\r\n          {form.role === \"user\" ? (\r\n            <>\r\n              <label>Age</label>\r\n              <input type=\"number\" name=\"age\" value={form.age} onChange={handleChange} />\r\n              <label>Gender</label>\r\n              <select name=\"gender\" value={form.gender} onChange={handleChange}>\r\n                <option value=\"\">Select</option>\r\n                <option value=\"female\">Female</option>\r\n                <option value=\"male\">Male</option>\r\n              </select>\r\n              <label>Height (cm)</label>\r\n              <input type=\"number\" name=\"height\" value={form.height} onChange={handleChange} />\r\n              <label>Weight (kg)</label>\r\n              <input type=\"number\" name=\"weight\" value={form.weight} onChange={handleChange} />\r\n            </>\r\n          ) : form.role === \"trainer\" ? (\r\n            <>\r\n              <label>Specialization</label>\r\n              <input\r\n                name=\"specialization\"\r\n                value={form.specialization}\r\n                onChange={handleChange}\r\n                placeholder=\"e.g., Weight Loss\"\r\n              />\r\n            </>\r\n          ) : null}\r\n\r\n          <div style={{ marginTop: 12 }}>\r\n            <button type=\"submit\">Register</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}