{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{Bar}from\"react-chartjs-2\";import{Chart as ChartJS,CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend}from\"chart.js\";import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(CategoryScale,LinearScale,BarElement,Title,Tooltip,Legend);function WorkoutBarChart(_ref){let{userId}=_ref;const[workouts,setWorkouts]=useState([]);useEffect(()=>{if(!userId)return;axios.get(\"http://localhost:8080/api/workouts/user/\".concat(userId)).then(res=>setWorkouts(res.data)).catch(err=>console.error(\"Error fetching workouts:\",err));},[userId]);// Group workouts by exercise name\nconst grouped=workouts.reduce((acc,w)=>{acc[w.exercise]=(acc[w.exercise]||0)+(w.reps||0);return acc;},{});const chartData={labels:Object.keys(grouped),datasets:[{label:\"Total Reps\",data:Object.values(grouped),backgroundColor:\"#36A2EB\",borderRadius:6}]};const options={responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false},title:{display:true,text:\"Workout Progress (Reps per Exercise)\",color:\"#333\",font:{size:16,weight:\"bold\"}}},scales:{x:{ticks:{color:\"#555\"},grid:{display:false}},y:{ticks:{color:\"#555\"},beginAtZero:true}}};return/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",maxWidth:\"500px\",height:\"300px\",margin:\"20px auto\",padding:\"12px\",border:\"1px solid #ddd\",borderRadius:\"8px\",backgroundColor:\"#fafafa\"},children:workouts.length?/*#__PURE__*/_jsx(Bar,{data:chartData,options:options}):/*#__PURE__*/_jsx(\"div\",{style:{textAlign:\"center\",padding:\"20px\",color:\"#666\"},children:\"No workout data available.\"})});}export default WorkoutBarChart;","map":{"version":3,"names":["React","useEffect","useState","axios","Bar","Chart","ChartJS","CategoryScale","LinearScale","BarElement","Title","Tooltip","Legend","jsx","_jsx","register","WorkoutBarChart","_ref","userId","workouts","setWorkouts","get","concat","then","res","data","catch","err","console","error","grouped","reduce","acc","w","exercise","reps","chartData","labels","Object","keys","datasets","label","values","backgroundColor","borderRadius","options","responsive","maintainAspectRatio","plugins","legend","display","title","text","color","font","size","weight","scales","x","ticks","grid","y","beginAtZero","style","width","maxWidth","height","margin","padding","border","children","length","textAlign"],"sources":["C:/Users/Gowtham/OneDrive/Desktop/fit-frontend/fitness-app/src/components/WorkoutBarChart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Bar } from \"react-chartjs-2\";\r\nimport { Chart as ChartJS, CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend } from \"chart.js\";\r\n\r\nChartJS.register(CategoryScale, LinearScale, BarElement, Title, Tooltip, Legend);\r\n\r\nfunction WorkoutBarChart({ userId }) {\r\n  const [workouts, setWorkouts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!userId) return;\r\n    axios.get(`http://localhost:8080/api/workouts/user/${userId}`)\r\n      .then(res => setWorkouts(res.data))\r\n      .catch(err => console.error(\"Error fetching workouts:\", err));\r\n  }, [userId]);\r\n\r\n  // Group workouts by exercise name\r\n  const grouped = workouts.reduce((acc, w) => {\r\n    acc[w.exercise] = (acc[w.exercise] || 0) + (w.reps || 0);\r\n    return acc;\r\n  }, {});\r\n\r\n  const chartData = {\r\n    labels: Object.keys(grouped),\r\n    datasets: [\r\n      {\r\n        label: \"Total Reps\",\r\n        data: Object.values(grouped),\r\n        backgroundColor: \"#36A2EB\",\r\n        borderRadius: 6,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const options = {\r\n    responsive: true,\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      legend: { display: false },\r\n      title: {\r\n        display: true,\r\n        text: \"Workout Progress (Reps per Exercise)\",\r\n        color: \"#333\",\r\n        font: { size: 16, weight: \"bold\" }\r\n      }\r\n    },\r\n    scales: {\r\n      x: { ticks: { color: \"#555\" }, grid: { display: false } },\r\n      y: { ticks: { color: \"#555\" }, beginAtZero: true }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{\r\n      width: \"100%\", maxWidth: \"500px\", height: \"300px\",\r\n      margin: \"20px auto\", padding: \"12px\",\r\n      border: \"1px solid #ddd\", borderRadius: \"8px\",\r\n      backgroundColor: \"#fafafa\"\r\n    }}>\r\n      {workouts.length ? (\r\n        <Bar data={chartData} options={options} />\r\n      ) : (\r\n        <div style={{ textAlign: \"center\", padding: \"20px\", color: \"#666\" }}>\r\n          No workout data available.\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WorkoutBarChart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}