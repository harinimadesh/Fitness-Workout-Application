{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserBMIReports(_ref){let{auth}=_ref;const[height,setHeight]=useState(auth.height||\"\");const[weight,setWeight]=useState(auth.weight||\"\");const[logs,setLogs]=useState([]);useEffect(()=>{if(!(auth!==null&&auth!==void 0&&auth.id))return;axios.get(\"http://localhost:8080/api/bmi/user/\".concat(auth.id)).then(res=>setLogs(res.data)).catch(err=>console.error(\"Error fetching BMI logs:\",err));},[auth.id]);const calculateBMI=e=>{e.preventDefault();if(!height||!weight)return alert(\"Enter height and weight\");const h=Number(height)/100;const bmi=Number((Number(weight)/(h*h)).toFixed(2));const newItem={userId:auth.id,height:Number(height),weight:Number(weight),bmi,date:new Date().toISOString()};axios.post(\"http://localhost:8080/api/bmi\",newItem).then(()=>axios.get(\"http://localhost:8080/api/bmi/user/\".concat(auth.id))).then(res=>setLogs(res.data)).catch(err=>console.error(\"Error saving BMI report:\",err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"BMI Reports\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{marginTop:12},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:calculateBMI,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Height (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:height,onChange:e=>setHeight(e.target.value),required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Weight (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:weight,onChange:e=>setWeight(e.target.value),required:true}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Calculate & Save\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{marginTop:12},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"History\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"list\",style:{marginTop:8},children:[logs.map(l=>/*#__PURE__*/_jsxs(\"div\",{className:\"list-item\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Height \",l.height,\" cm \\u2022 Weight \",l.weight,\" kg\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"BMI \",l.bmi]}),\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"helper\",children:[\"(\",new Date(l.date).toLocaleString(),\")\"]})]})]},l.id)),!logs.length&&/*#__PURE__*/_jsx(\"div\",{style:{padding:12},children:\"No BMI logs yet.\"})]})]})]});}export default UserBMIReports;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","UserBMIReports","_ref","auth","height","setHeight","weight","setWeight","logs","setLogs","id","get","concat","then","res","data","catch","err","console","error","calculateBMI","e","preventDefault","alert","h","Number","bmi","toFixed","newItem","userId","date","Date","toISOString","post","className","children","style","marginTop","onSubmit","type","value","onChange","target","required","map","l","toLocaleString","length","padding"],"sources":["C:/Users/Gowtham/OneDrive/Desktop/fit-frontend/fitness-app/src/pages/bmi/UserBMIReports.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction UserBMIReports({ auth }) {\r\n  const [height, setHeight] = useState(auth.height || \"\");\r\n  const [weight, setWeight] = useState(auth.weight || \"\");\r\n  const [logs, setLogs] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!auth?.id) return;\r\n    axios.get(`http://localhost:8080/api/bmi/user/${auth.id}`)\r\n      .then(res => setLogs(res.data))\r\n      .catch(err => console.error(\"Error fetching BMI logs:\", err));\r\n  }, [auth.id]);\r\n\r\n  const calculateBMI = (e) => {\r\n    e.preventDefault();\r\n    if (!height || !weight) return alert(\"Enter height and weight\");\r\n\r\n    const h = Number(height) / 100;\r\n    const bmi = Number((Number(weight) / (h * h)).toFixed(2));\r\n\r\n    const newItem = {\r\n      userId: auth.id,\r\n      height: Number(height),\r\n      weight: Number(weight),\r\n      bmi,\r\n      date: new Date().toISOString()\r\n    };\r\n\r\n    axios.post(\"http://localhost:8080/api/bmi\", newItem)\r\n      .then(() => axios.get(`http://localhost:8080/api/bmi/user/${auth.id}`))\r\n      .then(res => setLogs(res.data))\r\n      .catch(err => console.error(\"Error saving BMI report:\", err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>BMI Reports</h2>\r\n      <div className=\"card\" style={{ marginTop: 12 }}>\r\n        <form onSubmit={calculateBMI}>\r\n          <label>Height (cm)</label>\r\n          <input type=\"number\" value={height} onChange={(e) => setHeight(e.target.value)} required />\r\n          <label>Weight (kg)</label>\r\n          <input type=\"number\" value={weight} onChange={(e) => setWeight(e.target.value)} required />\r\n          <div style={{ marginTop: 12 }}><button type=\"submit\">Calculate & Save</button></div>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"card\" style={{ marginTop: 12 }}>\r\n        <h3>History</h3>\r\n        <div className=\"list\" style={{ marginTop: 8 }}>\r\n          {logs.map(l => (\r\n            <div className=\"list-item\" key={l.id}>\r\n              <div>Height {l.height} cm â€¢ Weight {l.weight} kg</div>\r\n              <div><strong>BMI {l.bmi}</strong> <span className=\"helper\">({new Date(l.date).toLocaleString()})</span></div>\r\n            </div>\r\n          ))}\r\n          {!logs.length && <div style={{ padding: 12 }}>No BMI logs yet.</div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserBMIReports;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}