{"ast":null,"code":"import _objectSpread from\"C:/Users/Gowtham/OneDrive/Desktop/fit-frontend/fitness-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function UserProfile(_ref){let{auth}=_ref;const[form,setForm]=useState({name:\"\",email:\"\",age:\"\",gender:\"\",height:\"\",weight:\"\",goals:\"\"});useEffect(()=>{if(!(auth!==null&&auth!==void 0&&auth.id))return;axios.get(\"http://localhost:8080/api/users/\".concat(auth.id)).then(res=>setForm(res.data)).catch(err=>console.error(\"Error fetching profile:\",err));},[auth]);const handleChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const handleSave=async e=>{e.preventDefault();try{await axios.post(\"http://localhost:8080/api/users\",_objectSpread(_objectSpread({},form),{},{id:auth.id}));alert(\"Profile updated!\");}catch(err){console.error(\"Error saving profile:\",err);alert(\"Update failed\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",style:{marginTop:12},children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSave,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:form.name||\"\",onChange:handleChange,required:true}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:form.email||\"\",onChange:handleChange,required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"age\",value:form.age||\"\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Gender\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"gender\",value:form.gender||\"\",onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select\"}),/*#__PURE__*/_jsx(\"option\",{value:\"female\",children:\"Female\"}),/*#__PURE__*/_jsx(\"option\",{value:\"male\",children:\"Male\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Height (cm)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"height\",value:form.height||\"\",onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Weight (kg)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"weight\",value:form.weight||\"\",onChange:handleChange})]})]}),/*#__PURE__*/_jsx(\"label\",{children:\"Fitness Goals\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"goals\",value:form.goals||\"\",onChange:handleChange,rows:3}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:12},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Profile\"})})]})})]});}export default UserProfile;","map":{"version":3,"names":["React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","UserProfile","_ref","auth","form","setForm","name","email","age","gender","height","weight","goals","id","get","concat","then","res","data","catch","err","console","error","handleChange","e","_objectSpread","target","value","handleSave","preventDefault","post","alert","className","children","style","marginTop","onSubmit","onChange","required","type","rows"],"sources":["C:/Users/Gowtham/OneDrive/Desktop/fit-frontend/fitness-app/src/pages/profiles/UserProfile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction UserProfile({ auth }) {\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    height: \"\",\r\n    weight: \"\",\r\n    goals: \"\",\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!auth?.id) return;\r\n    axios.get(`http://localhost:8080/api/users/${auth.id}`)\r\n      .then(res => setForm(res.data))\r\n      .catch(err => console.error(\"Error fetching profile:\", err));\r\n  }, [auth]);\r\n\r\n  const handleChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const handleSave = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post(\"http://localhost:8080/api/users\", { ...form, id: auth.id });\r\n      alert(\"Profile updated!\");\r\n    } catch (err) {\r\n      console.error(\"Error saving profile:\", err);\r\n      alert(\"Update failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>My Profile</h2>\r\n      <div className=\"card\" style={{ marginTop: 12 }}>\r\n        <form onSubmit={handleSave}>\r\n          <label>Name</label>\r\n          <input name=\"name\" value={form.name || \"\"} onChange={handleChange} required />\r\n          <label>Email</label>\r\n          <input type=\"email\" name=\"email\" value={form.email || \"\"} onChange={handleChange} required />\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <label>Age</label>\r\n              <input type=\"number\" name=\"age\" value={form.age || \"\"} onChange={handleChange} />\r\n            </div>\r\n            <div className=\"col\">\r\n              <label>Gender</label>\r\n              <select name=\"gender\" value={form.gender || \"\"} onChange={handleChange}>\r\n                <option value=\"\">Select</option>\r\n                <option value=\"female\">Female</option>\r\n                <option value=\"male\">Male</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n            <div className=\"col\">\r\n              <label>Height (cm)</label>\r\n              <input type=\"number\" name=\"height\" value={form.height || \"\"} onChange={handleChange} />\r\n            </div>\r\n            <div className=\"col\">\r\n              <label>Weight (kg)</label>\r\n              <input type=\"number\" name=\"weight\" value={form.weight || \"\"} onChange={handleChange} />\r\n            </div>\r\n          </div>\r\n          <label>Fitness Goals</label>\r\n          <textarea name=\"goals\" value={form.goals || \"\"} onChange={handleChange} rows={3} />\r\n          <div style={{ marginTop: 12 }}>\r\n            <button type=\"submit\">Save Profile</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserProfile;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}